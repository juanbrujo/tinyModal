/*
 *  Tiny Modal - v1.1.0
 *  Clean, Fast, Modular and customizable Modal Window controller
 *
 *  https://github.com/juanbrujo/tinyModal
 *  Demo: http://juanbrujo.github.io/tinyModal/
 *
 *  Author: Jorge Epuñan H. | @csslab
 *  License: MIT
 *  ©2015 - Jorge Epuñan H.
 */
var tinyModal=function(){function a(a,b){a.className=a.className.replace(/\s+$/gi,"")+" "+b}function b(a,b){a&&(a.className=a.className.replace(b,""))}function c(){var b=document.createElement("div");a(b,"tinymodal-cover"),document.body.appendChild(b)}function d(){var a=document.querySelector(".tinymodal-cover");a&&a.parentNode.removeChild(a)}function e(a){27===a.keyCode&&j()}function f(a){a.target!==cover&&a.target!==close||j()}function g(a){var b=a.getAttribute("data-size");if(b){var c=b.split(",");a.setAttribute("style","width:"+c[0]+";height:"+c[1]+";")}}function h(b){var c=b.getAttribute("data-newclass");c&&a(b,c)}function i(d){c();var f=document.querySelector(".tinymodal-cover"),i=document.querySelectorAll(".tinymodal-close");if(i.length)for(var k=0;k<i.length;k++)i[k].addEventListener("click",j,!1);document.addEventListener("keyup",e,!1),f.addEventListener("click",j,!1),f.addEventListener("touchstart",j,!1),b(n,o),a(n,d),g(n),h(n),setTimeout(function(){a(m,"tinymodal-active")},0),o=d}function j(){document.removeEventListener("keyup",e,!1),document.removeEventListener("click",f,!1),document.removeEventListener("touchstart",f,!1),d(),b(m,"tinymodal-active"),b(n,"tinymodal-window-open"),n&&n.classList.contains("tinymodal-new")&&setTimeout(function(){n.parentNode.removeChild(n)},300)}function k(b,c){return b.indexOf("#")>-1?n=document.querySelector(b):b.match(/.*(\.(jpg|png|gif))$/i)&&(n=document.createElement("aside"),n.setAttribute("class","tinymodal-window tinymodal-new"),n.innerHTML='<div class="tinymodal-inner"><img src="'+b+'" /></div>',document.body.appendChild(n)),a(n,"tinymodal-window-open"),i(""),c&&"function"==typeof c&&c.call(n),this}function l(a){j(),a&&"function"==typeof a&&a.call(n)}if(!(document.querySelector&&"className"in document.body))return!1;var m=document.body,n=document.querySelector(".tinymodal-window-open"),o=null;return m.className=m.className.replace(/\s+$/gi,"")+" tinymodal-ready",{openModal:k,closeModal:l}}();