<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>tinyModal</title>
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic,700italic">
    <link rel="stylesheet" href="../dist/tinyModal.css">
    <link rel="stylesheet" href="css/demo.css">
  </head>
  <body>
    <article>
      <h1>tinyModal.js</h1>
      <h2>2kb modular modal window controller <small>
          <a href="https://github.com/juanbrujo/tinyModal">GitHub</a>
        </small>
      </h2>
      <hr>
      <p>Lorem ipsum dolor sit cuchuflí barquillo bacán jote gamba listeilor po cahuín, luca melón con vino pichanga coscacho ni ahí peinar la muñeca chuchada al chancho achoclonar. Chorrocientos pituto ubicatex huevo duro bolsero cachureo el hoyo del queque en cana huevón el año del loly hacerla corta impeque de miedo quilterry la raja longi ñecla. Hilo curado rayuela carrete quina guagua lorea piola ni ahí.</p>
      <hr>
      <h2>Demo: <i>open using function</i>
      </h2>
      <p class="center">
        <button onclick="javascript:openModal();">Open #first-modal</button>
        <button onclick="javascript:openSecondModal();">Open #second-modal</button>
      </p>
      <h2>Demo: <i>open anchor</i>
      </h2>
      <p class="center">
        <a href="#first-modal" class="tinymodal-modal">Open first-modal</a>
        <a href="#second-modal" class="tinymodal-modal">Open second-modal</a>
      </p>
      <h2>Demo: <i>open image link</i>
      </h2>
      <p class="center">
        <a href="https://www.csslab.cl/wp-content/uploads/2019/03/spam.jpg" class="tinymodal-modal">
          <img src="https://www.csslab.cl/wp-content/uploads/2019/03/spam.jpg" alt="Image placeholder" class="image-responsive">
        </a>
      </p>
      <hr>
      <p>Lorem ipsum dolor sit cuchuflí barquillo bacán jote gamba listeilor po cahuín, luca melón con vino pichanga coscacho ni ahí peinar la muñeca chuchada al chancho achoclonar. Chorrocientos pituto ubicatex huevo duro bolsero cachureo el hoyo del queque en cana huevón el año del loly hacerla corta impeque de miedo quilterry la raja longi ñecla. Hilo curado rayuela carrete quina guagua lorea piola ni ahí.</p>
      <hr>
      <p>
        <a href="https://github.com/juanbrujo/tinyModal">GitHub</a>
      </p>
    </article>

		<!-- Modal windows-->
		<aside id="first-modal" class="tinymodal-window">
      <div class="tinymodal-inner">
        <h2>:D</h2>
        <p> ESC or click outside to close the modal. </p>
        <button class="tinymodal-close">Close</button>
        <button onclick="javascript:closeModal();">Close with JS</button>
      </div>
    </aside>
    <aside id="second-modal" class="tinymodal-window" data-size="70%,50%" data-newclass="photo">
      <div class="tinymodal-inner">
        <h2>That's a completely different popup</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dicta blanditiis fuga animi reiciendis excepturi perspiciatis labore suscipit iure possimus odit, adipisci, illo eos est. Consequuntur natus cupiditate beatae enim a.</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Autem non placeat maiores, minima ad, distinctio dolor et possimus atque eligendi nulla reprehenderit nostrum cum culpa molestiae voluptate quas cumque consectetur!</p>
        <p> ESC or click outside to close the modal. </p>
        <button class="tinymodal-close">X</button>
      </div>
    </aside>
		<!-- End modal windows-->

    <script src="../dist/tinyModal.min.js"></script>
    <script>
      function openModal() {
        tinyModal.openModal("#first-modal", function() { // callback
          console.log('#first-modal open');
        });
      }

      function openSecondModal() {
        tinyModal.openModal("#second-modal");
      }

      function closeModal() {
        tinyModal.closeModal(function() { // callback
          console.log('closed by closeModal() function');
        });
      }
      const links = document.querySelectorAll('a.tinymodal-modal');
      for (var i = 0; links.length > i; i++) {
        links[i].addEventListener("click", function(event) { // callback
            event.preventDefault();
            const element = this.getAttribute("href");
            tinyModal.openModal(element, function() {
							const closeLink = this.querySelectorAll('a[href="javascript:closeModal()"]');
                if (closeLink.length < 1) {
                  const closeLink = document.createElement("a");
                  closeLink.setAttribute("href", "javascript:closeModal()");
                  closeLink.innerHTML = "X";
                  this.appendChild(closeLink);
                }
                console.log('opened by  <a> ');
                });
            });
        }
    </script>
  </body>
</html>
